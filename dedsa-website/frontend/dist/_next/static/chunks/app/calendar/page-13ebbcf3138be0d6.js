(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[85],{573:(e,t,a)=>{Promise.resolve().then(a.bind(a,667))},667:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var s=a(5155),n=a(6874),r=a.n(n),l=a(2115);function d(){let[e,t]=(0,l.useState)([]),[a,n]=(0,l.useState)(!0),[d,i]=(0,l.useState)(null),[o,m]=(0,l.useState)("list"),[h,x]=(0,l.useState)(new Date);(0,l.useEffect)(()=>{b()},[]);let b=async()=>{try{let e=await fetch("/api/events");if(!e.ok)throw Error("Failed to fetch events");let a=await e.json();t(a),n(!1)}catch(e){i(e instanceof Error?e.message:"Unknown error"),n(!1)}},g=e=>new Date(e.start.dateTime||e.start.date||"");if(a)return(0,s.jsx)("div",{className:"min-h-screen bg-dsa-red-t4 py-12",children:(0,s.jsx)("div",{className:"container-page",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-dsa-red mx-auto"}),(0,s.jsx)("p",{className:"mt-4",children:"Loading events..."})]})})});if(d)return(0,s.jsx)("div",{className:"min-h-screen bg-dsa-red-t4 py-12",children:(0,s.jsx)("div",{className:"container-page",children:(0,s.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-red-800 mb-2",children:"Error Loading Events"}),(0,s.jsx)("p",{className:"text-red-700",children:d})]})})});let u=e.filter(e=>{let t=g(e);return t.getMonth()===h.getMonth()&&t.getFullYear()===h.getFullYear()}),j=(e=>{let t={};return e.forEach(e=>{let a=g(e).toDateString();t[a]||(t[a]=[]),t[a].push(e)}),t})(u);return(0,s.jsx)("div",{className:"min-h-screen bg-dsa-red-t4 py-12",children:(0,s.jsxs)("div",{className:"container-page",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"Delaware DSA Calendar"}),(0,s.jsx)("p",{className:"text-xl text-dsa-black",children:"Join us for meetings, actions, educational events, and social gatherings."})]}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:(0,s.jsxs)("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>m("list"),className:"px-4 py-2 rounded ".concat("list"===o?"bg-dsa-red text-white":"bg-gray-200 text-dsa-black hover:bg-gray-300"),children:"List View"}),(0,s.jsx)("button",{onClick:()=>m("month"),className:"px-4 py-2 rounded ".concat("month"===o?"bg-dsa-red text-white":"bg-gray-200 text-dsa-black hover:bg-gray-300"),children:"Month View"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("button",{onClick:()=>{let e=new Date(h);e.setMonth(e.getMonth()-1),x(e)},className:"p-2 hover:bg-dsa-red-t4 rounded",children:"←"}),(0,s.jsx)("span",{className:"font-semibold",children:h.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),(0,s.jsx)("button",{onClick:()=>{let e=new Date(h);e.setMonth(e.getMonth()+1),x(e)},className:"p-2 hover:bg-dsa-red-t4 rounded",children:"→"})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("a",{href:"https://calendar.google.com/calendar/u/0/r?cid=ZjE3ZDRkNGQxNzU2Njc1YjMxYmYwYzdjYzE0NWM4ZTJiMGZkOTY3ZDkzYzU1ZTIzYzQwYTBmZTE1ZmU0ZmQ4ZEBncm91cC5jYWxlbmRhci5nb29nbGUuY29t",target:"_blank",rel:"noopener noreferrer",className:"btn btn-secondary text-sm",children:"+ Add to Google Calendar"}),(0,s.jsx)("a",{href:"https://calendar.google.com/calendar/ical/f17d4d4d1756675b31bf0c7cc145c8e2b0fd967d93c55e23c40a0fe15fe4fd8d%40group.calendar.google.com/public/basic.ics",className:"btn btn-secondary text-sm",children:"Download .ics"})]})]})}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:"list"===o?(0,s.jsx)("div",{className:"space-y-6",children:0===Object.keys(j).length?(0,s.jsxs)("p",{className:"text-dsa-black text-center py-8",children:["No events scheduled for"," ",h.toLocaleDateString("en-US",{month:"long",year:"numeric"})]}):Object.entries(j).sort((e,t)=>{let[a]=e,[s]=t;return new Date(a).getTime()-new Date(s).getTime()}).map(e=>{let[t,a]=e;return(0,s.jsxs)("div",{className:"border-b border-gray-200 pb-6 last:border-0",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-dsa-black mb-3",children:new Date(t).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}),(0,s.jsx)("div",{className:"space-y-3",children:a.map(e=>{var t;return(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"font-semibold text-dsa-black",children:e.summary}),e.start.dateTime&&(0,s.jsxs)("p",{className:"text-sm text-dsa-black mt-1",children:[new Date(e.start.dateTime).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),(null==(t=e.end)?void 0:t.dateTime)&&" - ".concat(new Date(e.end.dateTime).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}))]}),e.location&&(0,s.jsxs)("p",{className:"text-sm text-dsa-black mt-1",children:["\uD83D\uDCCD ",e.location]}),e.description&&(0,s.jsxs)("p",{className:"text-sm text-dsa-black mt-2",children:[e.description.substring(0,200),"..."]})]},e.id)})})]},t)})}):(0,s.jsx)(c,{events:u,month:h})}),(0,s.jsxs)("div",{className:"mt-8 bg-white rounded-lg shadow-md p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Stay Updated"}),(0,s.jsx)("p",{className:"text-dsa-black mb-4",children:"Subscribe to our calendar to automatically receive updates about Delaware DSA events."}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,s.jsx)(r(),{href:"/join",className:"btn btn-primary",children:"Join Delaware DSA"}),(0,s.jsx)(r(),{href:"/committees",className:"btn btn-secondary",children:"Explore Committees"}),(0,s.jsx)(r(),{href:"/contact",className:"btn btn-secondary",children:"Contact Us"})]})]})]})})}function c(e){let{events:t,month:a}=e,n=new Date(a.getFullYear(),a.getMonth()+1,0).getDate(),r=new Date(a.getFullYear(),a.getMonth(),1).getDay(),l=Math.ceil((n+r)/7),d=e=>t.filter(t=>new Date(t.start.dateTime||t.start.date||"").getDate()===e);return(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,s.jsx)("th",{className:"text-center p-2 font-semibold text-dsa-black",children:e},e))})}),(0,s.jsx)("tbody",{children:Array.from({length:l}).map((e,t)=>(0,s.jsx)("tr",{children:Array.from({length:7}).map((e,a)=>{let l=7*t+a-r+1,c=l>0&&l<=n,i=c?d(l):[];return(0,s.jsx)("td",{className:"border border-gray-200 p-2 h-24 align-top ".concat(c?"":"bg-gray-50"),children:c&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"font-semibold text-sm mb-1",children:l}),(0,s.jsxs)("div",{className:"space-y-1",children:[i.slice(0,2).map(e=>(0,s.jsx)("div",{className:"text-xs bg-dsa-red text-white px-1 py-0.5 rounded truncate",title:e.summary,children:e.summary},e.id)),i.length>2&&(0,s.jsxs)("div",{className:"text-xs text-dsa-black",children:["+",i.length-2," more"]})]})]})},a)})},t))})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[874,441,684,358],()=>t(573)),_N_E=e.O()}]);